<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: 'Segoe UI', Arial, sans-serif; }
    .container { display: flex; height: 100vh; overflow: hidden; }
    .sidebar { width: 240px; background-color: #fdfffa; padding: 20px 0; display: flex; flex-direction: column; justify-content: space-between; }
    .logo { display: flex; align-items: center; gap: 8px; font-weight: 500; font-size: 1.5rem; margin-bottom: 30px; padding-left: 20px;
      background: linear-gradient(70deg, #cc79f0, #3e7ef7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .logo img { height: 40px; width: auto; object-fit: contain; margin-left: 5px; }
        .nav {
      display: flex;
      flex-direction: column;
      flex: 1;
      overflow-y: auto;
    }

    .logo .logoname {
      font-family: 'Great Vibes', cursive;
      font-weight: 600;
      color: #333135;
      padding-top: 10px;
    }

    .nav a,
    .bottom a {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 11px 20px;
      color: #333135;
      font-weight: 640;
      text-decoration: none;
      border-radius: 8px;
      margin: 0 7px;
      transition: background-color 0.3s, color 0.3s;
    }

    .nav a:hover,
    .bottom a:hover {
      background: linear-gradient(90deg, #cc79f0, #3e7ef7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .nav a.active {
      background: linear-gradient(90deg, #cc79f0, #3e7ef7);
      color: #fdfffa;
      -webkit-background-clip: unset;
      -webkit-text-fill-color: #fdfffa;
      background-clip: unset;
    }

    .bottom {
      margin-top: auto;
      display: flex;
      flex-direction: column;
    }

    .nav svg,
    .bottom svg {
      stroke: #6B7280; 
      transition: stroke 0.3s ease;
    }

    .nav a:hover svg,
    .bottom a:hover svg {
      stroke: #cc79f0; 
    }

    .nav a.active svg {
      stroke: #ffffff;
    }

    /* --- Profile modal --- */
    .header-icons {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      justify-content: flex-end;
      margin-top: -70px; 
      margin-bottom: 1rem;
    }

    .profile-dropdown {
      display: none;
      position: absolute;
      top: 42px;
      right: 0;
      min-width: 260px;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.13);
      padding: 18px 22px 18px 22px;
      z-index: 100;
      flex-direction: row;
      align-items: center;
      gap: 18px;
      border: 1px solid #eee;
    }
    .profile-dropdown.show {
      display: flex;
      animation: fadeIn 0.18s;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .profile-dropdown-img {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 12px;
      border: 2px solid #b16cea;
    }
    .profile-dropdown-info {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .profile-dropdown-info #profile-name {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 2px;
    }
    .profile-dropdown-info #profile-email {
      color: #666;
      font-size: 0.95rem;
      margin-bottom: 2px;
    }
    .profile-dropdown-info #profile-role {
      color: #b16cea;
      font-size: 0.93rem;
      font-weight: 500;
    }

    .icon-bell {
      width: 24px;
      height: 24px;
      stroke: #6b7280;
      cursor: pointer;
      transition: stroke 0.3s ease;
    }

    .icon-bell:hover {
      stroke: #4b8efb;
    }

    .profile-img {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
      cursor: pointer;
      border: 2px solid #d1d5db;
      transition: border-color 0.3s ease;
    }

    .profile-img:hover {
      border-color: #4b8efb;
    }

    /* --- Main Content Styling --- */
    .main { flex: 1; padding: 2rem 3rem; overflow-y: auto; font-family: 'Quicksand', sans-serif; }
    h1 { font-family: 'Poppins', sans-serif; font-size: 26px;; margin-bottom: 2rem; color: #333135; }
    .dashboard-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; padding-top: 20px; }
    .card { background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .card h3 { font-size: 14px; color: #4B5563; margin-bottom: 8px; }
    .card .value { font-size: 22px; font-weight: 700; font-family: 'Poppins', sans-serif; }
    .section-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 20px; }
    table { width: 100%; border-collapse: collapse; font-size: 13px; }
    th, td { padding: 8px 10px; text-align: left; }
    th { color: #4B5563; font-weight: 600; border-bottom: 1px solid #eee; }
    tr:nth-child(even) { background: #f9f9f9; }
    canvas { background: #fff; border-radius: 12px; padding: 10px; }

    /* --- log out modal --- */
    .custom-modal {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.534);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .custom-modal[style*="display: flex"] {
      display: flex !important;
    }
    .modal-content {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.18);
      padding: 36px 32px 28px 32px;
      min-width: 340px;
      max-width: 90vw;
      text-align: center;
    }
    .logout-btn {
      padding: 10px 28px;
      border-radius: 24px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, border-color 0.2s;
    }
    .cancel-btn {
      border: 2px solid #b16cea;
      background: #fff;
      color: #b16cea;
    }
    .cancel-btn:hover {
      background: #f3e8ff;
      color: #a21caf;
      border-color: #a21caf;
    }
    .confirm-btn {
      border: none;
      background: linear-gradient(90deg,#6ea8fe,#b16cea);
      color: #fff;
    }
    .confirm-btn:hover {
      background: linear-gradient(90deg, #ff4eaf 0%, #ffb86c 100%);
      color: #fff;
    }
    
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div>
        <div class="logo">
          <img src="logo.png" alt="Logo"/></img>
          <span class="logoname">Skin Bloom</span>
        </div>
        <nav class="nav">
          <a href="dashboard.html" class="active"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard-icon lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>Dashboard</a>
          <a href="customers_data.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M16 3.128a4 4 0 0 1 0 7.744"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg><span>Customers Data</span></a>
          <a href="LO.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-search-icon lucide-user-search"><circle cx="10" cy="7" r="4"/><path d="M10.3 15H7a4 4 0 0 0-4 4v2"/><circle cx="17" cy="17" r="3"/><path d="m21 21-1.9-1.9"/></svg>Lead & Opportunity</a>
          <a href="sales_order.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-badge-dollar-sign-icon lucide-badge-dollar-sign"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 18V6"/></svg>Sales Order</a>
          <a href="quota.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-text-quote-icon lucide-text-quote"><path d="M17 6H3"/><path d="M21 12H8"/><path d="M21 18H8"/><path d="M3 12v6"/></svg>Quotations & Pricing</a>
          <a href="cs_tickets.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wrench-icon lucide-wrench"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"/></svg>Customer Support</a>
        </nav>
      </div>
      <div class="bottom">
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09c.7 0 1.3-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.06a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09c0 .7.4 1.3 1 1.51h.06a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.06a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>Settings</a>
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out-icon lucide-log-out"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>Logout</a>
      
      </div>
    </aside>

    <!-- Main -->
    <main class="main">
      
      <h1>Welcome to SkinBloom — CRM!</h1>

      <div class="header-icons">
        <svg class="icon-bell" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 01-6 0v-1m6 0H9" />
        </svg>
        <img src="profile.jpg" alt="Profile" class="profile-img" />
      </div> 

      <!-- Summary Cards -->
      <div class="dashboard-grid">
        <div class="card"><h3>Total Customers</h3><div class="value" id="totalCustomers"></div></div>
        <div class="card"><h3>Active Orders</h3><div class="value" id="activeOrders"></div></div>
        <div class="card"><h3>Open Opportunities</h3><div class="value" id="openOpportunities"></div></div>
        <div class="card"><h3>Total Revenue</h3><div class="value" id="totalRevenue"></div></div>
      </div>

      <!-- Sales Trend -->
      <div class="card" style="margin-top:20px;">
        <h3>Monthly Sales Trend</h3>
        <canvas id="salesTrendChart"></canvas>
      </div>

      <!-- Leads & Customers -->
      <div class="section-grid">
        <div class="card">
          <h3>New Leads This Week</h3>
          <table id="leadsTable">
            <thead><tr><th>Name</th><th>Interest</th><th>Source</th><th>Assigned To</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="card">
          <h3>Top Customers</h3>
          <table id="topCustomersTable">
            <thead><tr><th>Name</th><th>Total Orders</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Opportunities -->
      <div class="card" style="margin-top:20px;">
        <h3>Leads and Opportunity</h3>
        <table id="opportunityTable">
          <thead><tr><th>Stage</th><th>Count</th><th>Value</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </main>
  </div>

  <!-- Logout Confirmation Modal -->
    <div id="logout-modal" style="display:none;" class="custom-modal">
      <div class="modal-content" style="min-width:340px; text-align:center;">
        <div style="margin-bottom:15px;">
          <img src="excla.png" alt="Success" style="height: 80px; weight: 80px">
        </div>
        <h2 style="color:#222; margin-bottom:8px;">Are you logging out?</h2>
        <div style="color:#444; margin-bottom:24px; font-size: 0.8rem;">
          Are you sure want to log out?<br>
          All your unsaved data will be lost.
        </div>
        <div style="display:flex; justify-content:center; gap:18px;">
          <button id="cancel-logout" class="logout-btn cancel-btn">Cancel</button>
          <button id="confirm-logout" class="logout-btn confirm-btn">Log out</button>
        </div>
      </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
        // Static dashboard data
        const data = {
            "summary": {
            "totalCustomers": 5,
            "activeOrders": 7,
            "openOpportunities": 3,
            "totalRevenue": 26650
            },
            "salesTrend": [
            { "month": "Aug", "amount": 50350 }
            ],
            "newLeads": [
            { "name": " ", "interest": "new", "source": "Email Campaign", "assigned_to": "" },
            { "name": " ", "interest": "new", "source": "Paid Ads", "assigned_to": "" },
            { "name": " ", "interest": "qualified", "source": "Website Form", "assigned_to": "" },
            { "name": "Roberto Garcia", "interest": "contacted", "source": "Referral", "assigned_to": "" },
            { "name": "Kristine Villanueva", "interest": "contacted", "source": "Cold Call", "assigned_to": "" },
            { "name": "Maria Dela cruz", "interest": "qualified", "source": "Referral", "assigned_to": "" },
            { "name": "Juan Santos", "interest": "lost", "source": "Trade Show", "assigned_to": "" },
            { "name": "Angela Reyes", "interest": "lost", "source": "Event Booth", "assigned_to": "" }
            ],
            "topCustomers": [
            { "category": "Angela Reyes", "total_orders": 2 },
            { "category": "Maria Dela cruz", "total_orders": 2 },
            { "category": "Roberto Garcia", "total_orders": 2 },
            { "category": "Kristine Villanueva", "total_orders": 1 },
            { "category": "Juan Santos", "total_orders": 1 }
            ],
            "opportunities": [
            { "stage": "lost", "count": 2, "total_value": 7150 },
            { "stage": "open", "count": 3, "total_value": 13500 },
            { "stage": "qualified", "count": 1, "total_value": 4000 },
            { "stage": "won", "count": 2, "total_value": 16100 }
            ]
        };

        // Summary cards
        document.getElementById('totalCustomers').textContent = data.summary.totalCustomers;
        document.getElementById('activeOrders').textContent = data.summary.activeOrders;
        document.getElementById('openOpportunities').textContent = data.summary.openOpportunities;
        document.getElementById('totalRevenue').textContent = `₱${Number(data.summary.totalRevenue).toLocaleString()}`;

        // Sales Trend Chart
        const salesCtx = document.getElementById('salesTrendChart');
        salesCtx._chart = new Chart(salesCtx, {
            type: 'line',
            data: {
            labels: data.salesTrend.map(s => s.month),
            datasets: [{
                label: 'Sales',
                data: data.salesTrend.map(s => s.amount),
                borderColor: '#3b82f6',
                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                fill: true,
                tension: 0.3
            }]
            },
            options: { responsive: true, plugins: { legend: { display: false } } }
        });

        // New leads
        document.querySelector('#leadsTable tbody').innerHTML =
            data.newLeads.map(l => `
            <tr>
            <td>${l.name || ''}</td>
            <td>${l.interest}</td>
            <td>${l.source}</td>
            <td>${l.assigned_to || ''}</td>
            </tr>`).join('');

        // Top customers
        document.querySelector('#topCustomersTable tbody').innerHTML =
            data.topCustomers.map(c => `<tr><td>${c.category}</td><td>${c.total_orders}</td></tr>`).join('');

        // Opportunities
        document.querySelector('#opportunityTable tbody').innerHTML =
            data.opportunities.map(o => `<tr><td>${o.stage}</td><td>${o.count}</td><td>₱${Number(o.total_value).toLocaleString()}</td></tr>`).join('');
        
        // --- LOGOUT MODAL LOGIC BELOW ---

        // Show the logout modal
        function showLogoutModal() {
            document.getElementById('logout-modal').style.display = 'flex';
        }
        // Hide the logout modal
        function hideLogoutModal() {
            document.getElementById('logout-modal').style.display = 'none';
        }

        // Attach modal logic to buttons
        document.getElementById('cancel-logout').onclick = hideLogoutModal;
        document.getElementById('confirm-logout').onclick = function() {
            window.location.href = 'login.html';
        };

        // Attach modal to sidebar logout link
        const logoutLink = document.querySelector('.bottom a:last-child');
        if (logoutLink) {
            logoutLink.onclick = function(event) {
                event.preventDefault();
                showLogoutModal();
            };
        }
});

</script>
    
    
</body>

</html>
